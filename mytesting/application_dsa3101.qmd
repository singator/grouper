---
title: "Application DSA3101"
format: html
---

```{r}
library(groupr)
library(ompr)
library(ompr.roi)
library(ROI.plugin.gurobi)
```

## Semester 2120

```{r}
group_comp_df1 <- readRDS("data005-composition.rds")
group_pref_mat1 <- readRDS("data005-preference.rds")[, -c(1,6)]
df_list <- extract_student_info(group_comp_df1, "preference",  
                                self_formed_groups = 2,  
                                pref_mat = group_pref_mat1)
yaml_list <- extract_params_yaml("mdl02_input05.yml", "preference")
mdl2_5 <- prepare_model(df_list, yaml_list, "preference")
result <- solve_model(mdl2_5, with_ROI(solver="gurobi", verbose=TRUE))
assign_groups(result, assignment = "preference", 
              dframe=group_comp_df1, yaml_list, 
              group_names="group_id")

allocated_df1 <- readRDS("data005-allocated.rds")
```

